<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Why your model choice could cost 7x more">

<title>Benchmarking LLM Tokenizers for Odia: A Comparative Study ‚Äì sagaTrip</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-4d9afe2b8d18ee9fa5d0d57b5ed4214d.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-9b80f68f3e398bca18ebae74784ec24e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@*/dist/embed-amd.js" crossorigin="anonymous"></script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="Benchmarking LLM Tokenizers for Odia: A Comparative Study ‚Äì sagaTrip">
<meta property="og:description" content="Why your model choice could cost 7x more">
<meta property="og:image" content="https://tripathysagar.github.io/sagaTrip/10_BenchmarkingTOkenizer4Odia_files/figure-html/cell-15-output-1.png">
<meta property="og:site_name" content="sagaTrip">
<meta property="og:image:height" content="470">
<meta property="og:image:width" content="630">
<meta name="twitter:title" content="Benchmarking LLM Tokenizers for Odia: A Comparative Study ‚Äì sagaTrip">
<meta name="twitter:description" content="Why your model choice could cost 7x more">
<meta name="twitter:image" content="https://tripathysagar.github.io/sagaTrip/10_BenchmarkingTOkenizer4Odia_files/figure-html/cell-15-output-1.png">
<meta name="twitter:image-height" content="470">
<meta name="twitter:image-width" content="630">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://tripathysagar.github.io/resume.html" target="_blank"> 
<span class="menu-text">Resume</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://tripathysagar.github.io/PMPP/" target="_blank"> 
<span class="menu-text">PMPP Notes</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:tripathysagar08@gmail.com"> <i class="bi bi-envelope" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/sagar-tripathy" target="_blank"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/tripathysagar" target="_blank"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.youtube.com/@SimSagaTrip" target="_blank"> <i class="bi bi-youtube" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://x.com/tripathy_sagar0" target="_blank"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <span class="nav-link">
<span class="menu-text">üìç Open to Remote/Relocation</span>
    </span>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">Benchmarking LLM Tokenizers for Odia: A Comparative Study</h1>
        </a>     
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">üè† Home</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">üß† Transformers</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./llmforwardpass.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">The Magic Behind the Curtain: How LLMs Actually Generate Text</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./gptdecoder.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Building a Text Only Nano-GPT from Scratch: Character-Level Shakespeare Generation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multimodal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Building a Multi Modal Nano-GPT from Scratch: Shakespeare Meets Fashion MNIST</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">üîß Fine-Tuning</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lorapytorch.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LoRA Explained: Fine-Tune Large Models with 90% Fewer Parameters</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./daftsft.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Domain Adaption Fine-Tuning with LoRA: My Experiment on Mac M1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./distilationweightinit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CPU-Friendly Bash Generation: Distilling Qwen2.5-Coder for Local Deployment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./llm-arithmetic-experiments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Small LLMs Can‚Äôt Add‚ÄîBut They Can Learn to Ask</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">ü§ñ Agents</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./agentfromfirstprinciple.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Agent From First Principle</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./KhazadDum.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Khazad Dum - Delving for Data with a Text2SQL Agent</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">üìö Fundamentals</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pythonwalkthrough.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python for Programmers: Fast Track to Productivity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./benchmarkingtokenizer4odia.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Benchmarking LLM Tokenizers for Odia: A Comparative Study</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#dataset" id="toc-dataset" class="nav-link" data-scroll-target="#dataset">Dataset</a></li>
  <li><a href="#models" id="toc-models" class="nav-link" data-scroll-target="#models">Models</a></li>
  <li><a href="#metrics" id="toc-metrics" class="nav-link" data-scroll-target="#metrics">Metrics</a>
  <ul class="collapse">
  <li><a href="#fertility" id="toc-fertility" class="nav-link" data-scroll-target="#fertility">Fertility</a></li>
  <li><a href="#vocabulary-coverage" id="toc-vocabulary-coverage" class="nav-link" data-scroll-target="#vocabulary-coverage">Vocabulary Coverage</a></li>
  <li><a href="#odia-subwords" id="toc-odia-subwords" class="nav-link" data-scroll-target="#odia-subwords">Odia subwords</a></li>
  <li><a href="#compression-ratio-bytes-per-token" id="toc-compression-ratio-bytes-per-token" class="nav-link" data-scroll-target="#compression-ratio-bytes-per-token">Compression Ratio (bytes per token)</a></li>
  <li><a href="#roundtrip-accuracy" id="toc-roundtrip-accuracy" class="nav-link" data-scroll-target="#roundtrip-accuracy">Roundtrip accuracy</a></li>
  <li><a href="#vibe-check" id="toc-vibe-check" class="nav-link" data-scroll-target="#vibe-check">Vibe check</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/tripathysagar/sagaTrip/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Benchmarking LLM Tokenizers for Odia: A Comparative Study</h1>
</div>

<div>
  <div class="description">
    Why your model choice could cost 7x more
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->
<div style="display: flex; justify-content: space-between; align-items: center;">
<span>üìÖ 04/01/2026</span>
<p align="right">
<a href="https://colab.research.google.com/github/tripathysagar/sagaTrip/blob/main/nbs/10_BenchmarkingTOkenizer4Odia.ipynb" target="_blank"> <img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"> </a>
</p>
</div>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Large Language Models (LLMs) process text as <strong>tokens</strong>, not characters or words. The tokenizer ‚Äî which converts text to tokens ‚Äî is foundational to how well a model handles any language.</p>
<p>An effective tokenizer should contain <strong>subwords</strong> that meaningfully represent the language. For English, tokenizers typically learn common morphemes like ‚Äúing‚Äù, ‚Äútion‚Äù, ‚Äúpre-‚Äù. But for many Indic languages, tokenizers trained primarily on English data fall back to <strong>byte-level encoding</strong> ‚Äî treating each UTF-8 byte as a separate token.</p>
<p><strong>Odia</strong> (‡¨ì‡¨°‡¨º‡¨ø‡¨Ü) is an Eastern Indic language spoken by ~40 million people in India. Despite being a classical language with a rich literary history, Odia is severely <strong>underrepresented on the web</strong> ‚Äî falling into the &lt;0.1% category of internet content. For comparison, even Hindi (the third most-spoken language globally) accounts for only 0.07% of web domains. This means most LLM tokenizers have seen very little Odia text during training.</p>
<p>This has real consequences:</p>
<ul>
<li><strong>Higher costs</strong> ‚Äî Same text uses 3-5x more tokens in API calls</li>
<li><strong>Reduced context</strong> ‚Äî Less information fits in the context window<br>
</li>
<li><strong>Potentially worse performance</strong> ‚Äî The model sees fragmented bytes, not meaningful units</li>
</ul>
<p>In this evaluation, we compare how popular open-source LLM tokenizers handle Odia using the <code>OdiaGenAI/dolly-odia-15k</code> dataset.</p>
<div id="5e038c59" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span>  pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datasets <span class="im">import</span> load_dataset</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#from huggingface_hub import login</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#login()</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="dataset" class="level2">
<h2 class="anchored" data-anchor-id="dataset">Dataset</h2>
<p>We use <code>OdiaGenAI/dolly-odia-15k</code>, an Odia language dataset suitable for supervised fine-tuning (SFT). We sample 1000 examples for evaluation.</p>
<div id="d4b4d5e1" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> load_dataset(<span class="st">"OdiaGenAI/dolly-odia-15k"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>ds</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"61a37ccd69b340ab95fa494e1fedf073","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"0452b95cb692425fbf8bf5103f94dece","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"ca3e9e56ebbe4f50a69f8733b800461b","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<pre><code>DatasetDict({
    train: Dataset({
        features: ['english_context', 'response', 'context', 'instruction', 'english_response', 'english_instruction', 'category', 'english_category'],
        num_rows: 15005
    })
})</code></pre>
</div>
</div>
<div id="07ac4dbf" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>ds[<span class="st">'train'</span>][<span class="dv">0</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>{'english_context': "Virgin Australia, the trading name of Virgin Australia Airlines Pty Ltd, is an Australian-based airline. It is the largest airline by fleet size to use the Virgin brand. It commenced services on 31 August 2000 as Virgin Blue, with two aircraft on a single route.[3] It suddenly found itself as a major airline in Australia's domestic market after the collapse of Ansett Australia in September 2001. The airline has since grown to directly serve 32 cities in Australia, from hubs in Brisbane, Melbourne and Sydney.[4]",
 'response': '‡¨≠‡¨∞‡≠ç‡¨ú‡¨ø‡¨®‡≠ç ‡¨Ö‡¨∑‡≠ç‡¨ü‡≠ç‡¨∞‡≠á‡¨≤‡¨ø‡¨Ü 2000 ‡¨Æ‡¨∏‡¨ø‡¨π‡¨æ ‡¨Ö‡¨ó‡¨∑‡≠ç‡¨ü 31 ‡¨§‡¨æ‡¨∞‡¨ø‡¨ñ‡¨∞‡≠á ‡¨≠‡¨∞‡≠ç‡¨ú‡¨ø‡¨®‡≠ç ‡¨¨‡≠ç‡¨≤‡≠Å ‡¨®‡¨æ‡¨Æ‡¨∞‡≠á ‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨¨‡¨ø‡¨Æ‡¨æ‡¨® ‡¨∏‡¨π‡¨ø‡¨§ ‡¨ó‡≠ã‡¨ü‡¨ø‡¨è ‡¨∞‡≠Å‡¨ü‡¨∞‡≠á ‡¨¨‡¨ø‡¨Æ‡¨æ‡¨® ‡¨∏‡≠á‡¨¨‡¨æ ‡¨Ü‡¨∞‡¨Æ‡≠ç‡¨≠ ‡¨ï‡¨∞‡¨ø‡¨•‡¨ø‡¨≤‡¨æ‡•§',
 'context': '‡¨≠‡¨∞‡≠ç‡¨ú‡¨ø‡¨® ‡¨Ö‡¨∑‡≠ç‡¨ü‡≠ç‡¨∞‡≠á‡¨≤‡¨ø‡¨Ü ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨Ö‡¨∑‡≠ç‡¨ü‡≠ç‡¨∞‡≠á‡¨≤‡¨ø‡¨Ü‡¨∞ ‡¨è‡¨ï ‡¨è‡≠ü‡¨æ‡¨∞‡¨≤‡¨æ‡¨á‡¨®‡≠ç‡¨∏ ‡¨ï‡¨Æ‡≠ç‡¨™‡¨æ‡¨®‡≠Ä‡•§ ‡¨≠‡¨ø‡¨∞‡≠ç‡¨ú‡¨ø‡¨®‡≠ç ‡¨¨‡≠ç‡¨∞‡¨æ‡¨£‡≠ç‡¨°‡¨∞ ‡¨¨‡≠ç‡≠ü‡¨¨‡¨π‡¨æ‡¨∞ ‡¨ï‡¨∞‡≠Å‡¨•‡¨ø‡¨¨‡¨æ ‡¨è‡¨π‡¨æ ‡¨π‡≠á‡¨â‡¨õ‡¨ø ‡¨¨‡¨ø‡¨∂‡≠ç‡≠±‡¨∞ ‡¨∏‡¨∞‡≠ç‡¨¨‡¨¨‡≠É‡¨π‡¨§ ‡¨¨‡¨ø‡¨Æ‡¨æ‡¨® ‡¨∏‡≠á‡¨¨‡¨æ‡•§ ‡¨∏‡≠á‡¨™‡≠ç‡¨ü‡≠á‡¨Æ‡≠ç‡¨¨‡¨∞ 2001‡¨∞‡≠á ‡¨Ü‡¨®‡≠ç‡¨∏‡≠á‡¨ü‡≠ç ‡¨Ö‡¨∑‡≠ç‡¨ü‡≠ç‡¨∞‡≠á‡¨≤‡¨ø‡¨Ü ‡¨≠‡¨æ‡¨ô‡≠ç‡¨ó‡¨ø‡¨Ø‡¨ø‡¨¨‡¨æ ‡¨™‡¨∞‡≠á ‡¨è‡¨π‡¨æ ‡¨π‡¨†‡¨æ‡¨§‡≠ç ‡¨Ö‡¨∑‡≠ç‡¨ü‡≠ç‡¨∞‡≠á‡¨≤‡¨ø‡¨Ü‡¨∞ ‡¨ò‡¨∞‡≠ã‡¨á ‡¨¨‡¨ú‡¨æ‡¨∞‡¨∞‡≠á ‡¨è‡¨ï ‡¨™‡≠ç‡¨∞‡¨Æ‡≠Å‡¨ñ ‡¨è‡≠ü‡¨æ‡¨∞‡¨≤‡¨æ‡¨á‡¨®‡≠ç‡¨∏ ‡¨≠‡¨æ‡¨¨‡≠á ‡¨â‡¨≠‡¨æ ‡¨π‡≠ã‡¨á‡¨•‡¨ø‡¨≤‡¨æ‡•§ ‡¨è‡¨π‡¨æ‡¨™‡¨∞‡≠á ‡¨è‡¨π‡¨ø ‡¨¨‡¨ø‡¨Æ‡¨æ‡¨® ‡¨∏‡≠á‡¨¨‡¨æ ‡¨¨‡≠ç‡¨∞‡¨ø‡¨∏‡¨¨‡≠á‡¨®, ‡¨Æ‡≠á‡¨≤‡¨¨‡≠ã‡¨∞‡≠ç‡¨£‡≠ç‡¨£ ‡¨è‡¨¨‡¨Ç ‡¨∏‡¨ø‡¨°‡¨®‡≠Ä‡¨∞‡≠á ‡¨∏‡¨ø‡¨ß‡¨æ‡¨∏‡¨≥‡¨ñ ‡¨∏‡≠á‡¨¨‡¨æ ‡¨Ø‡≠ã‡¨ó‡¨æ‡¨á ‡¨¶‡≠á‡¨â‡¨õ‡¨ø‡•§ [4]',
 'instruction': '‡¨≠‡¨æ‡¨∞‡≠ç‡¨ú‡¨ø‡¨® ‡¨Ö‡¨∑‡≠ç‡¨ü‡≠ç‡¨∞‡≠á‡¨≤‡¨ø‡¨Ü ‡¨ï‡≠á‡¨§‡≠á‡¨¨‡≠á‡¨≥‡≠á ‡¨ï‡¨æ‡¨∞‡≠ç‡¨Ø‡≠ç‡≠ü‡¨ï‡≠ç‡¨∑‡¨Æ ‡¨π‡≠ã‡¨á‡¨•‡¨ø‡¨≤‡¨æ?',
 'english_response': 'Virgin Australia commenced services on 31 August 2000 as Virgin Blue, with two aircraft on a single route.',
 'english_instruction': 'When did Virgin Australia start operating?',
 'category': '‡¨¨‡¨®‡≠ç‡¨¶ _ qa',
 'english_category': 'closed_qa'}</code></pre>
</div>
</div>
<p>Lets remove unnecessary columns from the datasets.</p>
<div id="1fa75566" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>c2drop <span class="op">=</span> [<span class="st">'english_context'</span>, <span class="st">'english_response'</span>, <span class="st">'english_instruction'</span>, <span class="st">'category'</span>, <span class="st">'english_category'</span>]</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> ds.remove_columns(c2drop)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>ds</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>DatasetDict({
    train: Dataset({
        features: ['response', 'context', 'instruction'],
        num_rows: 15005
    })
})</code></pre>
</div>
</div>
<p>We will consolidate the columns containing Odia so that we can run our eval. Combining response, context, and instruction into a single text column will make it easier.</p>
<div id="82f8d8e8" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> consolidate(x):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="st">"text"</span>: x[<span class="st">'response'</span>] <span class="op">+</span> <span class="st">" "</span> <span class="op">+</span> x[<span class="st">'context'</span>] <span class="op">+</span> <span class="st">" "</span> <span class="op">+</span> x[<span class="st">'instruction'</span>]}</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> ds.<span class="bu">map</span>(consolidate, remove_columns<span class="op">=</span>[<span class="st">'response'</span>, <span class="st">'context'</span>, <span class="st">'instruction'</span>])</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>ds</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"8b18dd0737004c49a0e6f68f7fd5fddb","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<pre><code>DatasetDict({
    train: Dataset({
        features: ['text'],
        num_rows: 15005
    })
})</code></pre>
</div>
</div>
<div id="c08036b9" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> ds[<span class="st">'train'</span>].shuffle(seed<span class="op">=</span><span class="dv">42</span>).select(<span class="bu">range</span>(<span class="dv">1000</span>))</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>ds</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>Dataset({
    features: ['text'],
    num_rows: 1000
})</code></pre>
</div>
</div>
</section>
<section id="models" class="level2">
<h2 class="anchored" data-anchor-id="models">Models</h2>
<p>We compare tokenizers from state-of-the-art open source LLMs:</p>
<ul>
<li><strong>Indic-focused</strong>: sarvam-1, Krutrim-2-instruct</li>
<li><strong>Multilingual</strong>: Qwen3, Gemma 2/3</li>
<li><strong>English-centric</strong>: LLaMA 3, GPT-oss</li>
</ul>
<p>Few models might need permission. Please login to HuggingFace and accept license.</p>
<div id="c77240d1" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>models <span class="op">=</span> [</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Indic</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'krutrim-ai-labs/Krutrim-2-instruct'</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'sarvamai/sarvam-1'</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># OpenAI</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'openai/gpt-oss-20b'</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Qwen</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Qwen/Qwen3-8B'</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Google</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'google/gemma-2-9b'</span>,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'google/gemma-3-12b-it'</span>,</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Meta</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'meta-llama/Meta-Llama-3-8B-Instruct'</span>,</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="c51ffa4e" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> transformers <span class="im">import</span> AutoTokenizer</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>tokenizers <span class="op">=</span> {}</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> model <span class="kw">in</span> models:</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        tokenizers[model] <span class="op">=</span> AutoTokenizer.from_pretrained(model)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Loaded </span><span class="sc">{</span>model<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Failed </span><span class="sc">{</span>model<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"cfe69a92a7454da881cbaaec17546248","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"6ea9c74c4f1c4a4489d688f1ccff1f48","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"32884cb945c748b4ad9c6bb62f45c779","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Loaded krutrim-ai-labs/Krutrim-2-instruct</code></pre>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"8d2271bd6fdc4a1eb8800d402a378adb","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"22536733f7ce4a66bce92fe40c126e1a","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"10682a1ef1fc40b2855cb097eb3863a5","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"341f1bb8e2114bf7b51abb2ce7e4dfc0","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Loaded sarvamai/sarvam-1</code></pre>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"7ec63fb2c2604f62b5a347300cbb1361","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"a877989a4a404f738392faff615e570f","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"99efe79092a7459995ee567a70019b4c","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"cb3e6a1c3580462f9b7ec7dd818996e0","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Loaded openai/gpt-oss-20b</code></pre>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"91a586520b68427abd8e8d88e0a9f6dd","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"c1818dd90f774acd95053d768792c8ad","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"a5a8b9401bbd4e41bdb4f75944d2f2ea","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"011527c4b0134c018c93a143ecc0f755","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Loaded Qwen/Qwen3-8B</code></pre>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"7e8b9ee62ece42c497b4ed7508d75a0d","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"378af57da4ee4486a285c4b057853994","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"f8e5a946caea4c27971a44a0d1de140d","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"78a330e266d94de1b7c04e85f488cc43","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Loaded google/gemma-2-9b</code></pre>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"1fa094599ce84db38012570ba726cd2e","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"ae70386b755e4fc381a1c2620be6bd5a","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"fadadc0eaf744d2bb1c3d3bf4f421dec","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"328e51f090194f89a37b63b597d9e54d","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"1339017c687a4f6599c446df1cc6eeb3","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Loaded google/gemma-3-12b-it</code></pre>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"21a396b2cf6c42e69993b75d99830d6b","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"f156ef26fb7f495182694b1364971438","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"563b84e209f4471f845820c18957bbd1","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Loaded meta-llama/Meta-Llama-3-8B-Instruct</code></pre>
</div>
</div>
<div id="de8d2b44" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>tokenizers.keys()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>dict_keys(['krutrim-ai-labs/Krutrim-2-instruct', 'sarvamai/sarvam-1', 'openai/gpt-oss-20b', 'Qwen/Qwen3-8B', 'google/gemma-2-9b', 'google/gemma-3-12b-it', 'meta-llama/Meta-Llama-3-8B-Instruct'])</code></pre>
</div>
</div>
</section>
<section id="metrics" class="level2">
<h2 class="anchored" data-anchor-id="metrics">Metrics</h2>
<ol type="1">
<li><strong>Fertility</strong> ‚Äî <code>tokens / words</code>. Measures how efficiently a tokenizer represents text. Lower is better.</li>
<li><strong>Vocabulary Coverage</strong> ‚Äî Percentage of Odia characters present in the tokenizer‚Äôs vocabulary vs treated as unknown or byte-fallback. Higher is better.</li>
<li><strong>Compression Ratio</strong> ‚Äî <code>bytes / tokens</code>. Measures information density per token. Higher is better (lower API costs, more efficient context usage).</li>
<li><strong>Roundtrip Accuracy</strong> ‚Äî Does <code>decode(encode(text)) == text</code>? Tests whether any information is lost during tokenization.</li>
</ol>
<section id="fertility" class="level3">
<h3 class="anchored" data-anchor-id="fertility">Fertility</h3>
<ul>
<li>Calculate <code>number_of_words</code> from a given text to words, i.e.&nbsp;no of whitespace</li>
<li>then use : <code>fertility = number_of_tokens / number_of_words</code></li>
</ul>
<div id="8a90e36f" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> ds[<span class="dv">0</span>][<span class="st">'text'</span>]</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>t</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>'‡¨è‡¨π‡¨æ ‡¨∏‡≠Å‡¨®‡¨ø‡¨∂‡≠ç‡¨ö‡¨ø‡¨§ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡¨Ø‡≠á ‡¨Ü‡¨™‡¨£‡¨Æ‡¨æ‡¨®‡≠á ‡¨®‡¨ø‡¨ú‡¨∞ ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨Ö‡¨Ç‡¨∂‡¨ó‡≠ç‡¨∞‡¨π‡¨£‡¨ï‡¨æ‡¨∞‡≠Ä‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨™‡¨π‡¨û‡≠ç‡¨ö‡¨æ‡¨â‡¨®‡¨æ‡¨π‡¨æ‡¨®‡≠ç‡¨§‡¨ø, ‡¨è‡¨•‡¨ø‡¨∏‡¨π‡¨ø‡¨§ ‡¨≤‡¨æ‡¨≠ ‡¨¨‡¨¢‡¨º‡¨æ‡¨â‡¨õ‡¨®‡≠ç‡¨§‡¨ø ‡¨è‡¨¨‡¨Ç ‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨∏‡¨Æ‡≠ç‡¨≠‡¨æ‡¨¨‡≠ç‡≠ü ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨π‡≠ç‡¨∞‡¨æ‡¨∏ ‡¨ï‡¨∞‡≠Å‡¨õ‡¨®‡≠ç‡¨§‡¨ø‡•§ ‡¨®‡≠à‡¨§‡¨ø‡¨ï ‡¨ö‡¨ø‡¨®‡≠ç‡¨§‡¨æ‡¨ï‡≠Å ‡¨∏‡¨æ‡¨Æ‡≠ç‡¨®‡¨æ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨∏‡¨Æ‡≠ü‡¨∞‡≠á ‡¨∏‡¨∞‡≠ç‡¨¨‡¨∂‡≠ç‡¨∞‡≠á‡¨∑‡≠ç‡¨† ‡¨™‡≠ç‡¨∞‡¨ö‡¨≥‡¨® ‡¨®‡¨ø‡¨∞‡≠ç‡¨¶‡≠ç‡¨ß‡¨æ‡¨∞‡¨£ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨®‡¨ø‡¨ú ‡¨∏‡¨Æ‡≠Å‡¨¶‡¨æ‡≠ü ‡¨∏‡¨π‡¨ø‡¨§ ‡¨Ø‡≠ã‡¨°‡¨º‡¨ø ‡¨π‡≠Å‡¨Ö‡¨®‡≠ç‡¨§‡≠Å‡•§ ‡¨è‡¨π‡¨æ‡¨¶‡≠ç‡≠±‡¨æ‡¨∞‡¨æ ‡¨Ü‡¨™‡¨£‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‡¨≤‡¨æ‡¨≠ ‡¨Æ‡¨ø‡¨≥‡¨ø‡¨¨‡¨æ ‡¨∏‡≠Å‡¨®‡¨ø‡¨∂‡≠ç‡¨ö‡¨ø‡¨§ ‡¨π‡≠ã‡¨á‡¨™‡¨æ‡¨∞‡¨ø‡¨¨‡•§ ‡¨¨‡≠á‡¨≤‡≠ç‡¨Æ‡¨£‡≠ç‡¨ü ‡¨∞‡¨ø‡¨™‡≠ã‡¨∞‡≠ç‡¨ü ‡¨Ö‡¨®‡≠Å‡¨Ø‡¨æ‡≠ü‡≠Ä, ‡¨ó‡¨¨‡≠á‡¨∑‡¨ï‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‚Äò‡¨≤‡¨æ‡¨≠‚Äô ‡¨®‡≠Ä‡¨§‡¨ø ‡¨Ö‡¨®‡≠Å‡¨Ø‡¨æ‡≠ü‡≠Ä ‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨®‡≠à‡¨§‡¨ø‡¨ï ‡¨Ü‡¨¨‡¨∂‡≠ç‡≠ü‡¨ï‡¨§‡¨æ‡¨ï‡≠Å ‡¨™‡¨æ‡¨≥‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨™‡¨°‡¨º‡¨ø‡¨¨‡¨É ‡¨Ö‡¨®‡≠ç‡≠ü‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨∏‡¨Æ‡≠ç‡¨≠‡¨æ‡¨¨‡≠ç‡≠ü ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø‡¨ï‡≠Å ‡¨π‡≠ç‡¨∞‡¨æ‡¨∏ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨∏‡¨Æ‡≠ü‡¨∞‡≠á ‚Äò‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨è‡¨¨‡¨Ç ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨∏‡¨∞‡≠ç‡¨¨‡¨æ‡¨ß‡¨ø‡¨ï ‡¨≤‡¨æ‡¨≠‚Äô‡•§ [1]\n‡¨ö‡¨ø‡¨ï‡¨ø‡¨§‡≠ç‡¨∏‡¨æ ‡¨™‡≠á‡¨∏‡¨æ‡¨¶‡¨æ‡¨∞ ‡¨è‡¨¨‡¨Ç ‡¨ó‡¨¨‡≠á‡¨∑‡¨ï‡¨Æ‡¨æ‡¨®‡≠á ‡¨∏‡¨∞‡≠ç‡¨¨‡¨¶‡¨æ ‡¨≤‡¨æ‡¨≠‡¨™‡≠ç‡¨∞‡¨¶ ‡¨ö‡¨ø‡¨ï‡¨ø‡¨§‡≠ç‡¨∏‡¨æ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨ï‡¨∞‡¨ø‡¨¨‡≠á ‡¨¨‡≠ã‡¨≤‡¨ø ‡¨ß‡¨æ‡¨∞‡¨£‡¨æ ‡¨Ö‡¨ß‡¨ø‡¨ï‡¨æ‡¨Ç‡¨∂ ‡¨∞‡≠ã‡¨ó‡≠Ä ‡¨è‡¨¨‡¨Ç ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨Ö‡¨Ç‡¨∂‡¨ó‡≠ç‡¨∞‡¨π‡¨£‡¨ï‡¨æ‡¨∞‡≠Ä‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨∏‡≠ç‡≠±‡¨æ‡¨≠‡¨æ‡¨¨‡¨ø‡¨ï ‡¨≤‡¨æ‡¨ó‡≠Å‡¨õ‡¨ø, ‡¨ï‡¨ø‡¨®‡≠ç‡¨§‡≠Å ‡¨¨‡¨æ‡¨∏‡≠ç‡¨§‡¨¨‡¨∞‡≠á, ‡¨™‡≠ç‡¨∞‡¨§‡≠ç‡≠ü‡≠á‡¨ï ‡¨∏‡≠ç‡≠±‡¨æ‡¨∏‡≠ç‡¨•‡≠ç‡≠ü ‡¨π‡¨∏‡≠ç‡¨§‡¨ï‡≠ç‡¨∑‡≠á‡¨™ ‡¨ï‡¨ø‡¨Æ‡≠ç‡¨¨‡¨æ ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨π‡¨∏‡≠ç‡¨§‡¨ï‡≠ç‡¨∑‡≠á‡¨™‡¨∞ ‡¨ó‡≠ç‡¨∞‡¨π‡¨£‡¨ï‡¨æ‡¨∞‡≠Ä‡¨ï‡≠Å ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨™‡¨π‡¨û‡≠ç‡¨ö‡¨æ‡¨á‡¨¨‡¨æ‡¨∞ ‡¨∏‡¨Æ‡≠ç‡¨≠‡¨æ‡¨¨‡¨®‡¨æ ‡¨∞‡¨π‡¨ø‡¨õ‡¨ø‡•§\n‡¨Æ‡¨§‡¨™‡¨æ‡¨∞‡≠ç‡¨•‡¨ï‡≠ç‡≠ü ‡¨∏‡¨§‡≠ç‡¨§‡≠ç‡≠±‡≠á, ‡¨è‡¨≠‡¨≥‡¨ø ‡¨Ö‡¨®‡≠á‡¨ï ‡¨ö‡¨ø‡¨®‡≠ç‡¨§‡¨æ‡¨ß‡¨æ‡¨∞‡¨æ ‡¨∞‡¨π‡¨ø‡¨õ‡¨ø ‡¨Ø‡¨æ‡¨π‡¨æ‡¨ï‡≠Å ‡¨®‡≠á‡¨á ‡¨¨‡≠ç‡≠ü‡¨æ‡¨™‡¨ï ‡¨∏‡¨π‡¨Æ‡¨§‡¨ø ‡¨∞‡¨π‡¨ø‡¨õ‡¨ø‡•§ ‡¨≤‡¨æ‡¨≠ ‡¨∏‡¨Æ‡≠ç‡¨¨‡¨®‡≠ç‡¨ß‡¨∞‡≠á ‡¨è‡¨π‡¨ø ‡¨∏‡¨®‡≠ç‡¨¶‡¨∞‡≠ç‡¨≠‡¨ï‡≠Å ‡¨¶‡≠É‡¨∑‡≠ç‡¨ü‡¨ø‡¨∞‡≠á ‡¨∞‡¨ñ‡¨ø ‡¨Æ‡≠Å‡¨Å ‡¨ï‚Äô‡¨£ ‡¨ï‡¨∞‡¨ø‡¨™‡¨æ‡¨∞‡¨ø‡¨¨‡¨ø?'</code></pre>
</div>
</div>
<p>Find the number of words for a given statement.</p>
<div id="1031d209" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> num_words(x):</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="st">"num_words"</span> : <span class="bu">len</span>(x[<span class="st">'text'</span>].split())}</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> ds.<span class="bu">map</span>(num_words)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>ds</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"ac6d69011847494cad36b1dabce93e43","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<pre><code>Dataset({
    features: ['text', 'num_words'],
    num_rows: 1000
})</code></pre>
</div>
</div>
<p>Tokenize the <code>text</code> and divide wrt the word count in the text.</p>
<div id="6eb1488b" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fertilities(x):</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> {}</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> name, tok <span class="kw">in</span> tokenizers.items():</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>        token_ids <span class="op">=</span> tok(x[<span class="st">'text'</span>])[<span class="st">'input_ids'</span>]  <span class="co"># list of lists</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>        result[<span class="ss">f"</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">"</span>] <span class="op">=</span> [</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>            <span class="bu">len</span>(ids) <span class="op">/</span> nw</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> ids, nw <span class="kw">in</span> <span class="bu">zip</span>(token_ids, x[<span class="st">'num_words'</span>])</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> ds.<span class="bu">map</span>(fertilities, batched<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>ds</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"26f7fdb7a0314e728d63201252607b5c","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Token indices sequence length is longer than the specified maximum sequence length for this model (7970 &gt; 4096). Running this sequence through the model will result in indexing errors</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>Dataset({
    features: ['text', 'num_words', 'krutrim-ai-labs/Krutrim-2-instruct', 'sarvamai/sarvam-1', 'openai/gpt-oss-20b', 'Qwen/Qwen3-8B', 'google/gemma-2-9b', 'google/gemma-3-12b-it', 'meta-llama/Meta-Llama-3-8B-Instruct'],
    num_rows: 1000
})</code></pre>
</div>
</div>
<p>Bar graph from the ds. For all the columns except of <code>['text', 'num_words']</code>.</p>
<div id="TqjwyOzA5ST8" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_metric(ds, title, xlabel, remove_cols<span class="op">=</span>[<span class="st">'text'</span>], ascending<span class="op">=</span><span class="va">True</span>):</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> ds.remove_columns(remove_cols).to_pandas()</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> df.mean().sort_values(ascending<span class="op">=</span>ascending).plot.barh()</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    ax.set_xlabel(xlabel)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    ax.set_title(title)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    plt.tight_layout()</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df.mean().sort_values(ascending<span class="op">=</span>ascending)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="c-7FvuWT5zNA" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>fertility_df <span class="op">=</span> plot_metric(</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    ds,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Fertility on Odia'</span>,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Fertility (tokens/word)'</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    remove_cols<span class="op">=</span>[<span class="st">'text'</span>, <span class="st">'num_words'</span>]</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_BenchmarkingTOkenizer4Odia_files/figure-html/cell-15-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Key Findings:</strong></p>
<ol type="1">
<li><p><strong>Sarvam-1 wins</strong> ‚Äî The Indic-focused model has the best fertility at ~2.6 tokens/word, significantly outperforming all others.</p></li>
<li><p><strong>Gemma 3 is runner-up</strong> ‚Äî At ~5.1 tokens/word, it‚Äôs the best among non-Indic models.</p></li>
<li><p><strong>Krutrim-2 underperforms</strong> ‚Äî Despite being Indic-focused, it shows the worst fertility (~18 tokens/word), suggesting it may use byte-fallback for Odia.</p></li>
<li><p><strong>7x cost difference</strong> ‚Äî Using Krutrim-2 or LLaMA 3 for Odia would cost ~7x more in tokens compared to Sarvam-1.</p></li>
</ol>
<div id="744288c5" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>ds.column_names</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>['text',
 'num_words',
 'krutrim-ai-labs/Krutrim-2-instruct',
 'sarvamai/sarvam-1',
 'openai/gpt-oss-20b',
 'Qwen/Qwen3-8B',
 'google/gemma-2-9b',
 'google/gemma-3-12b-it',
 'meta-llama/Meta-Llama-3-8B-Instruct']</code></pre>
</div>
</div>
<div id="0cfb2f79" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> ds.remove_columns(ds.column_names[<span class="dv">1</span>:])</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>ds</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>Dataset({
    features: ['text'],
    num_rows: 1000
})</code></pre>
</div>
</div>
</section>
<section id="vocabulary-coverage" class="level3">
<h3 class="anchored" data-anchor-id="vocabulary-coverage">Vocabulary Coverage</h3>
<p><strong>Vocabulary Coverage</strong> measures how many Odia characters are actually in each tokenizer‚Äôs vocabulary vs treated as unknown/bytes.</p>
<p>The approach: 1. <strong>Odia characters</strong>: consonants (‡¨ï, ‡¨ñ, ‡¨ó‚Ä¶), vowels (‡¨Ö, ‡¨Ü, ‡¨á‚Ä¶), matras (‡¨æ, ‡¨ø, ‡≠á‚Ä¶), virama (‡≠ç), Odia digits (‡≠¶, ‡≠ß‚Ä¶). Use unicodedata to filter, just Odia Unicode characters (range <code>0x0B00</code> to <code>0x0B7F</code>). 2. For each tokenizer, check which characters exist as single tokens in the vocab 3. Calculate: <code>coverage = chars_in_vocab / total_unique_chars</code></p>
<div id="5627bdc9" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> unicodedata</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>odia_chars <span class="op">=</span> []</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bn">0x0B00</span>, <span class="bn">0x0B80</span>):</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    c <span class="op">=</span> <span class="bu">chr</span>(i)</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>        name <span class="op">=</span> unicodedata.name(c)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>        odia_chars.append(c)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">pass</span>  <span class="co"># unassigned codepoint</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(odia_chars), odia_chars[:<span class="dv">5</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>(91, ['‡¨Å', '‡¨Ç', '‡¨É', '‡¨Ö', '‡¨Ü'])</code></pre>
</div>
</div>
<div id="f71d4e3e" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>dic <span class="op">=</span> {}</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> name, tok <span class="kw">in</span> tokenizers.items():</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    vocab <span class="op">=</span> tok.vocab.keys()</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    dic[name] <span class="op">=</span> [i <span class="kw">in</span> vocab <span class="cf">for</span> i <span class="kw">in</span> odia_chars]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="533786a8" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>cov <span class="op">=</span> {name: <span class="bu">sum</span>(vals)<span class="op">/</span><span class="bu">len</span>(vals)<span class="op">*</span><span class="dv">100</span> <span class="cf">for</span> name, vals <span class="kw">in</span> dic.items()}</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>cov</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>{'krutrim-ai-labs/Krutrim-2-instruct': 0.0,
 'sarvamai/sarvam-1': 63.73626373626373,
 'openai/gpt-oss-20b': 0.0,
 'Qwen/Qwen3-8B': 0.0,
 'google/gemma-2-9b': 74.72527472527473,
 'google/gemma-3-12b-it': 75.82417582417582,
 'meta-llama/Meta-Llama-3-8B-Instruct': 0.0}</code></pre>
</div>
</div>
<div id="kwxzwsu46poz" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> pd.Series(cov).sort_values().plot.barh()</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Coverage (%)'</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Vocabulary Coverage on Odia (single characters)'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>Text(0.5, 1.0, 'Vocabulary Coverage on Odia (single characters)')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_BenchmarkingTOkenizer4Odia_files/figure-html/cell-21-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Only <strong>Gemma</strong> models (2-9b and 3-12b) include individual Odia characters in their vocabulary (~75% coverage). All other tokenizers show 0% single-character coverage, relying instead on byte-level fallback or learned subwords.</p>
</section>
<section id="odia-subwords" class="level3">
<h3 class="anchored" data-anchor-id="odia-subwords">Odia subwords</h3>
<p>These tokenizers might have multi-character tokens like ‚Äú‡¨ï‡¨∞‚Äù or ‚Äú‡¨Æ‡¨æ‡¨®‚Äù even without single characters. Lets count those.</p>
<div id="ca0f50ca" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>vocab <span class="op">=</span> <span class="bu">list</span>(vocab)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>vocab[:<span class="dv">4</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>['ƒ†overwrite', '√°¬∫¬©n', 'ƒ†√ò¬±√ôƒ™√ò¬≥√õƒÆ', 'ƒ†M√É¬§dchen']</code></pre>
</div>
</div>
<p>Chekc if a char falls between ‚ÄòB00‚Äô and ‚ÄòB7F‚Äô.</p>
<div id="82d8bb07" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> has_odia(token):</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">any</span>(<span class="st">'</span><span class="ch">\u0B00</span><span class="st">'</span> <span class="op">&lt;=</span> c <span class="op">&lt;=</span> <span class="st">'</span><span class="ch">\u0B7F</span><span class="st">'</span> <span class="cf">for</span> c <span class="kw">in</span> token)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>has_odia(<span class="st">"‡¨ï"</span>), has_odia(<span class="st">"‡¨ï‡¨∞"</span>), has_odia(<span class="st">"hello"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>(True, True, False)</code></pre>
</div>
</div>
<div id="92b560a0" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>odia_counts <span class="op">=</span> {}</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> name, tok <span class="kw">in</span> tokenizers.items():</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    odia_counts[name] <span class="op">=</span> <span class="bu">sum</span>(<span class="dv">1</span> <span class="cf">for</span> t <span class="kw">in</span> tok.vocab <span class="cf">if</span> has_odia(t))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>odia_counts</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>{'krutrim-ai-labs/Krutrim-2-instruct': 0,
 'sarvamai/sarvam-1': 1956,
 'openai/gpt-oss-20b': 0,
 'Qwen/Qwen3-8B': 0,
 'google/gemma-2-9b': 69,
 'google/gemma-3-12b-it': 125,
 'meta-llama/Meta-Llama-3-8B-Instruct': 0}</code></pre>
</div>
</div>
<p><strong>Sarvam-1 has by far the most Odia subwords (1956)</strong>, explaining its excellent fertility. Gemma models have some (69-125), while other models have zero ‚Äî they rely entirely on byte-level fallback for Odia text.</p>
</section>
<section id="compression-ratio-bytes-per-token" class="level3">
<h3 class="anchored" data-anchor-id="compression-ratio-bytes-per-token">Compression Ratio (bytes per token)</h3>
<ul>
<li><code>compression = len(text.encode('utf-8')) / num_tokens</code></li>
<li>Higher = more efficient (more bytes packed per token)</li>
</ul>
<div id="1d6fe994" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> tokens_count(x):</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> {}</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> name, tok <span class="kw">in</span> tokenizers.items():</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>        token_ids <span class="op">=</span> tok(x[<span class="st">'text'</span>])[<span class="st">'input_ids'</span>]            <span class="co"># list of lists</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>        utfs <span class="op">=</span> [i.encode(<span class="st">'utf-8'</span>) <span class="cf">for</span> i <span class="kw">in</span> x[<span class="st">'text'</span>]]      <span class="co"># encode the string utf-8</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>        comp <span class="op">=</span> [</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>            <span class="bu">len</span>(b) <span class="op">/</span> <span class="bu">len</span>(ids)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> ids, b <span class="kw">in</span> <span class="bu">zip</span>(token_ids, utfs)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>        result[<span class="ss">f"</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">"</span>] <span class="op">=</span> comp</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> ds.<span class="bu">map</span>(tokens_count, batched<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>ds</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"13b9a74b950f4538971e1c791126d081","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<pre><code>Dataset({
    features: ['text', 'krutrim-ai-labs/Krutrim-2-instruct', 'sarvamai/sarvam-1', 'openai/gpt-oss-20b', 'Qwen/Qwen3-8B', 'google/gemma-2-9b', 'google/gemma-3-12b-it', 'meta-llama/Meta-Llama-3-8B-Instruct'],
    num_rows: 1000
})</code></pre>
</div>
</div>
<div id="HfrEphrn7Sth" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>compression_df <span class="op">=</span> plot_metric(</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    ds,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Compression Ratio on Odia'</span>,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Compression Ratio (bytes/token)'</span>,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_BenchmarkingTOkenizer4Odia_files/figure-html/cell-26-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>Key Findings:</strong></p>
<ol type="1">
<li><p><strong>Sarvam-1 dominates</strong> ‚Äî At ~7.3 bytes/token, it packs far more information per token than any other model, thanks to its 1956 learned Odia subwords.</p></li>
<li><p><strong>Gemma 3 is runner-up</strong> ‚Äî At ~3.6 bytes/token, it‚Äôs the best non-Indic model.</p></li>
<li><p><strong>Krutrim-2 &amp; LLaMA 3 at ~1.0 bytes/token</strong> ‚Äî This confirms they‚Äôre using pure byte-fallback encoding for Odia (each UTF-8 byte becomes a separate token).</p></li>
<li><p><strong>Practical impact</strong>: For the same Odia text:</p>
<ul>
<li>Sarvam-1: 100 tokens</li>
<li>Gemma 3: ~200 tokens</li>
<li>Krutrim-2/LLaMA 3: ~730 tokens</li>
</ul></li>
</ol>
</section>
<section id="roundtrip-accuracy" class="level3">
<h3 class="anchored" data-anchor-id="roundtrip-accuracy">Roundtrip accuracy</h3>
<p>Does decode(encode(text)) == text</p>
<div id="34c123bd" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> ds[<span class="st">'text'</span>][<span class="dv">0</span>]</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>s_ <span class="op">=</span> tok.decode(tok.encode(s), skip_special_tokens<span class="op">=</span><span class="va">True</span>) <span class="co"># remove special tokens during decoding</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>s, s_</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>('‡¨è‡¨π‡¨æ ‡¨∏‡≠Å‡¨®‡¨ø‡¨∂‡≠ç‡¨ö‡¨ø‡¨§ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡¨Ø‡≠á ‡¨Ü‡¨™‡¨£‡¨Æ‡¨æ‡¨®‡≠á ‡¨®‡¨ø‡¨ú‡¨∞ ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨Ö‡¨Ç‡¨∂‡¨ó‡≠ç‡¨∞‡¨π‡¨£‡¨ï‡¨æ‡¨∞‡≠Ä‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨™‡¨π‡¨û‡≠ç‡¨ö‡¨æ‡¨â‡¨®‡¨æ‡¨π‡¨æ‡¨®‡≠ç‡¨§‡¨ø, ‡¨è‡¨•‡¨ø‡¨∏‡¨π‡¨ø‡¨§ ‡¨≤‡¨æ‡¨≠ ‡¨¨‡¨¢‡¨º‡¨æ‡¨â‡¨õ‡¨®‡≠ç‡¨§‡¨ø ‡¨è‡¨¨‡¨Ç ‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨∏‡¨Æ‡≠ç‡¨≠‡¨æ‡¨¨‡≠ç‡≠ü ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨π‡≠ç‡¨∞‡¨æ‡¨∏ ‡¨ï‡¨∞‡≠Å‡¨õ‡¨®‡≠ç‡¨§‡¨ø‡•§ ‡¨®‡≠à‡¨§‡¨ø‡¨ï ‡¨ö‡¨ø‡¨®‡≠ç‡¨§‡¨æ‡¨ï‡≠Å ‡¨∏‡¨æ‡¨Æ‡≠ç‡¨®‡¨æ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨∏‡¨Æ‡≠ü‡¨∞‡≠á ‡¨∏‡¨∞‡≠ç‡¨¨‡¨∂‡≠ç‡¨∞‡≠á‡¨∑‡≠ç‡¨† ‡¨™‡≠ç‡¨∞‡¨ö‡¨≥‡¨® ‡¨®‡¨ø‡¨∞‡≠ç‡¨¶‡≠ç‡¨ß‡¨æ‡¨∞‡¨£ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨®‡¨ø‡¨ú ‡¨∏‡¨Æ‡≠Å‡¨¶‡¨æ‡≠ü ‡¨∏‡¨π‡¨ø‡¨§ ‡¨Ø‡≠ã‡¨°‡¨º‡¨ø ‡¨π‡≠Å‡¨Ö‡¨®‡≠ç‡¨§‡≠Å‡•§ ‡¨è‡¨π‡¨æ‡¨¶‡≠ç‡≠±‡¨æ‡¨∞‡¨æ ‡¨Ü‡¨™‡¨£‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‡¨≤‡¨æ‡¨≠ ‡¨Æ‡¨ø‡¨≥‡¨ø‡¨¨‡¨æ ‡¨∏‡≠Å‡¨®‡¨ø‡¨∂‡≠ç‡¨ö‡¨ø‡¨§ ‡¨π‡≠ã‡¨á‡¨™‡¨æ‡¨∞‡¨ø‡¨¨‡•§ ‡¨¨‡≠á‡¨≤‡≠ç‡¨Æ‡¨£‡≠ç‡¨ü ‡¨∞‡¨ø‡¨™‡≠ã‡¨∞‡≠ç‡¨ü ‡¨Ö‡¨®‡≠Å‡¨Ø‡¨æ‡≠ü‡≠Ä, ‡¨ó‡¨¨‡≠á‡¨∑‡¨ï‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‚Äò‡¨≤‡¨æ‡¨≠‚Äô ‡¨®‡≠Ä‡¨§‡¨ø ‡¨Ö‡¨®‡≠Å‡¨Ø‡¨æ‡≠ü‡≠Ä ‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨®‡≠à‡¨§‡¨ø‡¨ï ‡¨Ü‡¨¨‡¨∂‡≠ç‡≠ü‡¨ï‡¨§‡¨æ‡¨ï‡≠Å ‡¨™‡¨æ‡¨≥‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨™‡¨°‡¨º‡¨ø‡¨¨‡¨É ‡¨Ö‡¨®‡≠ç‡≠ü‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨∏‡¨Æ‡≠ç‡¨≠‡¨æ‡¨¨‡≠ç‡≠ü ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø‡¨ï‡≠Å ‡¨π‡≠ç‡¨∞‡¨æ‡¨∏ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨∏‡¨Æ‡≠ü‡¨∞‡≠á ‚Äò‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨è‡¨¨‡¨Ç ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨∏‡¨∞‡≠ç‡¨¨‡¨æ‡¨ß‡¨ø‡¨ï ‡¨≤‡¨æ‡¨≠‚Äô‡•§ [1]\n‡¨ö‡¨ø‡¨ï‡¨ø‡¨§‡≠ç‡¨∏‡¨æ ‡¨™‡≠á‡¨∏‡¨æ‡¨¶‡¨æ‡¨∞ ‡¨è‡¨¨‡¨Ç ‡¨ó‡¨¨‡≠á‡¨∑‡¨ï‡¨Æ‡¨æ‡¨®‡≠á ‡¨∏‡¨∞‡≠ç‡¨¨‡¨¶‡¨æ ‡¨≤‡¨æ‡¨≠‡¨™‡≠ç‡¨∞‡¨¶ ‡¨ö‡¨ø‡¨ï‡¨ø‡¨§‡≠ç‡¨∏‡¨æ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨ï‡¨∞‡¨ø‡¨¨‡≠á ‡¨¨‡≠ã‡¨≤‡¨ø ‡¨ß‡¨æ‡¨∞‡¨£‡¨æ ‡¨Ö‡¨ß‡¨ø‡¨ï‡¨æ‡¨Ç‡¨∂ ‡¨∞‡≠ã‡¨ó‡≠Ä ‡¨è‡¨¨‡¨Ç ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨Ö‡¨Ç‡¨∂‡¨ó‡≠ç‡¨∞‡¨π‡¨£‡¨ï‡¨æ‡¨∞‡≠Ä‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨∏‡≠ç‡≠±‡¨æ‡¨≠‡¨æ‡¨¨‡¨ø‡¨ï ‡¨≤‡¨æ‡¨ó‡≠Å‡¨õ‡¨ø, ‡¨ï‡¨ø‡¨®‡≠ç‡¨§‡≠Å ‡¨¨‡¨æ‡¨∏‡≠ç‡¨§‡¨¨‡¨∞‡≠á, ‡¨™‡≠ç‡¨∞‡¨§‡≠ç‡≠ü‡≠á‡¨ï ‡¨∏‡≠ç‡≠±‡¨æ‡¨∏‡≠ç‡¨•‡≠ç‡≠ü ‡¨π‡¨∏‡≠ç‡¨§‡¨ï‡≠ç‡¨∑‡≠á‡¨™ ‡¨ï‡¨ø‡¨Æ‡≠ç‡¨¨‡¨æ ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨π‡¨∏‡≠ç‡¨§‡¨ï‡≠ç‡¨∑‡≠á‡¨™‡¨∞ ‡¨ó‡≠ç‡¨∞‡¨π‡¨£‡¨ï‡¨æ‡¨∞‡≠Ä‡¨ï‡≠Å ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨™‡¨π‡¨û‡≠ç‡¨ö‡¨æ‡¨á‡¨¨‡¨æ‡¨∞ ‡¨∏‡¨Æ‡≠ç‡¨≠‡¨æ‡¨¨‡¨®‡¨æ ‡¨∞‡¨π‡¨ø‡¨õ‡¨ø‡•§\n‡¨Æ‡¨§‡¨™‡¨æ‡¨∞‡≠ç‡¨•‡¨ï‡≠ç‡≠ü ‡¨∏‡¨§‡≠ç‡¨§‡≠ç‡≠±‡≠á, ‡¨è‡¨≠‡¨≥‡¨ø ‡¨Ö‡¨®‡≠á‡¨ï ‡¨ö‡¨ø‡¨®‡≠ç‡¨§‡¨æ‡¨ß‡¨æ‡¨∞‡¨æ ‡¨∞‡¨π‡¨ø‡¨õ‡¨ø ‡¨Ø‡¨æ‡¨π‡¨æ‡¨ï‡≠Å ‡¨®‡≠á‡¨á ‡¨¨‡≠ç‡≠ü‡¨æ‡¨™‡¨ï ‡¨∏‡¨π‡¨Æ‡¨§‡¨ø ‡¨∞‡¨π‡¨ø‡¨õ‡¨ø‡•§ ‡¨≤‡¨æ‡¨≠ ‡¨∏‡¨Æ‡≠ç‡¨¨‡¨®‡≠ç‡¨ß‡¨∞‡≠á ‡¨è‡¨π‡¨ø ‡¨∏‡¨®‡≠ç‡¨¶‡¨∞‡≠ç‡¨≠‡¨ï‡≠Å ‡¨¶‡≠É‡¨∑‡≠ç‡¨ü‡¨ø‡¨∞‡≠á ‡¨∞‡¨ñ‡¨ø ‡¨Æ‡≠Å‡¨Å ‡¨ï‚Äô‡¨£ ‡¨ï‡¨∞‡¨ø‡¨™‡¨æ‡¨∞‡¨ø‡¨¨‡¨ø?',
 '‡¨è‡¨π‡¨æ ‡¨∏‡≠Å‡¨®‡¨ø‡¨∂‡≠ç‡¨ö‡¨ø‡¨§ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡¨Ø‡≠á ‡¨Ü‡¨™‡¨£‡¨Æ‡¨æ‡¨®‡≠á ‡¨®‡¨ø‡¨ú‡¨∞ ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨Ö‡¨Ç‡¨∂‡¨ó‡≠ç‡¨∞‡¨π‡¨£‡¨ï‡¨æ‡¨∞‡≠Ä‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨™‡¨π‡¨û‡≠ç‡¨ö‡¨æ‡¨â‡¨®‡¨æ‡¨π‡¨æ‡¨®‡≠ç‡¨§‡¨ø, ‡¨è‡¨•‡¨ø‡¨∏‡¨π‡¨ø‡¨§ ‡¨≤‡¨æ‡¨≠ ‡¨¨‡¨¢‡¨º‡¨æ‡¨â‡¨õ‡¨®‡≠ç‡¨§‡¨ø ‡¨è‡¨¨‡¨Ç ‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨∏‡¨Æ‡≠ç‡¨≠‡¨æ‡¨¨‡≠ç‡≠ü ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨π‡≠ç‡¨∞‡¨æ‡¨∏ ‡¨ï‡¨∞‡≠Å‡¨õ‡¨®‡≠ç‡¨§‡¨ø‡•§ ‡¨®‡≠à‡¨§‡¨ø‡¨ï ‡¨ö‡¨ø‡¨®‡≠ç‡¨§‡¨æ‡¨ï‡≠Å ‡¨∏‡¨æ‡¨Æ‡≠ç‡¨®‡¨æ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨∏‡¨Æ‡≠ü‡¨∞‡≠á ‡¨∏‡¨∞‡≠ç‡¨¨‡¨∂‡≠ç‡¨∞‡≠á‡¨∑‡≠ç‡¨† ‡¨™‡≠ç‡¨∞‡¨ö‡¨≥‡¨® ‡¨®‡¨ø‡¨∞‡≠ç‡¨¶‡≠ç‡¨ß‡¨æ‡¨∞‡¨£ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨®‡¨ø‡¨ú ‡¨∏‡¨Æ‡≠Å‡¨¶‡¨æ‡≠ü ‡¨∏‡¨π‡¨ø‡¨§ ‡¨Ø‡≠ã‡¨°‡¨º‡¨ø ‡¨π‡≠Å‡¨Ö‡¨®‡≠ç‡¨§‡≠Å‡•§ ‡¨è‡¨π‡¨æ‡¨¶‡≠ç‡≠±‡¨æ‡¨∞‡¨æ ‡¨Ü‡¨™‡¨£‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‡¨≤‡¨æ‡¨≠ ‡¨Æ‡¨ø‡¨≥‡¨ø‡¨¨‡¨æ ‡¨∏‡≠Å‡¨®‡¨ø‡¨∂‡≠ç‡¨ö‡¨ø‡¨§ ‡¨π‡≠ã‡¨á‡¨™‡¨æ‡¨∞‡¨ø‡¨¨‡•§ ‡¨¨‡≠á‡¨≤‡≠ç‡¨Æ‡¨£‡≠ç‡¨ü ‡¨∞‡¨ø‡¨™‡≠ã‡¨∞‡≠ç‡¨ü ‡¨Ö‡¨®‡≠Å‡¨Ø‡¨æ‡≠ü‡≠Ä, ‡¨ó‡¨¨‡≠á‡¨∑‡¨ï‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‚Äò‡¨≤‡¨æ‡¨≠‚Äô ‡¨®‡≠Ä‡¨§‡¨ø ‡¨Ö‡¨®‡≠Å‡¨Ø‡¨æ‡≠ü‡≠Ä ‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨®‡≠à‡¨§‡¨ø‡¨ï ‡¨Ü‡¨¨‡¨∂‡≠ç‡≠ü‡¨ï‡¨§‡¨æ‡¨ï‡≠Å ‡¨™‡¨æ‡¨≥‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ‡¨ï‡≠Å ‡¨™‡¨°‡¨º‡¨ø‡¨¨‡¨É ‡¨Ö‡¨®‡≠ç‡≠ü‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡¨∞ ‡¨ï‡≠å‡¨£‡¨∏‡¨ø ‡¨∏‡¨Æ‡≠ç‡¨≠‡¨æ‡¨¨‡≠ç‡≠ü ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø‡¨ï‡≠Å ‡¨π‡≠ç‡¨∞‡¨æ‡¨∏ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨∏‡¨Æ‡≠ü‡¨∞‡≠á ‚Äò‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨è‡¨¨‡¨Ç ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨∏‡¨∞‡≠ç‡¨¨‡¨æ‡¨ß‡¨ø‡¨ï ‡¨≤‡¨æ‡¨≠‚Äô‡•§ [1]\n‡¨ö‡¨ø‡¨ï‡¨ø‡¨§‡≠ç‡¨∏‡¨æ ‡¨™‡≠á‡¨∏‡¨æ‡¨¶‡¨æ‡¨∞ ‡¨è‡¨¨‡¨Ç ‡¨ó‡¨¨‡≠á‡¨∑‡¨ï‡¨Æ‡¨æ‡¨®‡≠á ‡¨∏‡¨∞‡≠ç‡¨¨‡¨¶‡¨æ ‡¨≤‡¨æ‡¨≠‡¨™‡≠ç‡¨∞‡¨¶ ‡¨ö‡¨ø‡¨ï‡¨ø‡¨§‡≠ç‡¨∏‡¨æ ‡¨Ö‡¨≠‡≠ç‡≠ü‡¨æ‡¨∏ ‡¨ï‡¨∞‡¨ø‡¨¨‡≠á ‡¨¨‡≠ã‡¨≤‡¨ø ‡¨ß‡¨æ‡¨∞‡¨£‡¨æ ‡¨Ö‡¨ß‡¨ø‡¨ï‡¨æ‡¨Ç‡¨∂ ‡¨∞‡≠ã‡¨ó‡≠Ä ‡¨è‡¨¨‡¨Ç ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨Ö‡¨Ç‡¨∂‡¨ó‡≠ç‡¨∞‡¨π‡¨£‡¨ï‡¨æ‡¨∞‡≠Ä‡¨ô‡≠ç‡¨ï ‡¨™‡¨æ‡¨á‡¨Å ‡¨∏‡≠ç‡≠±‡¨æ‡¨≠‡¨æ‡¨¨‡¨ø‡¨ï ‡¨≤‡¨æ‡¨ó‡≠Å‡¨õ‡¨ø, ‡¨ï‡¨ø‡¨®‡≠ç‡¨§‡≠Å ‡¨¨‡¨æ‡¨∏‡≠ç‡¨§‡¨¨‡¨∞‡≠á, ‡¨™‡≠ç‡¨∞‡¨§‡≠ç‡≠ü‡≠á‡¨ï ‡¨∏‡≠ç‡≠±‡¨æ‡¨∏‡≠ç‡¨•‡≠ç‡≠ü ‡¨π‡¨∏‡≠ç‡¨§‡¨ï‡≠ç‡¨∑‡≠á‡¨™ ‡¨ï‡¨ø‡¨Æ‡≠ç‡¨¨‡¨æ ‡¨ó‡¨¨‡≠á‡¨∑‡¨£‡¨æ ‡¨π‡¨∏‡≠ç‡¨§‡¨ï‡≠ç‡¨∑‡≠á‡¨™‡¨∞ ‡¨ó‡≠ç‡¨∞‡¨π‡¨£‡¨ï‡¨æ‡¨∞‡≠Ä‡¨ï‡≠Å ‡¨ï‡≠ç‡¨∑‡¨§‡¨ø ‡¨™‡¨π‡¨û‡≠ç‡¨ö‡¨æ‡¨á‡¨¨‡¨æ‡¨∞ ‡¨∏‡¨Æ‡≠ç‡¨≠‡¨æ‡¨¨‡¨®‡¨æ ‡¨∞‡¨π‡¨ø‡¨õ‡¨ø‡•§\n‡¨Æ‡¨§‡¨™‡¨æ‡¨∞‡≠ç‡¨•‡¨ï‡≠ç‡≠ü ‡¨∏‡¨§‡≠ç‡¨§‡≠ç‡≠±‡≠á, ‡¨è‡¨≠‡¨≥‡¨ø ‡¨Ö‡¨®‡≠á‡¨ï ‡¨ö‡¨ø‡¨®‡≠ç‡¨§‡¨æ‡¨ß‡¨æ‡¨∞‡¨æ ‡¨∞‡¨π‡¨ø‡¨õ‡¨ø ‡¨Ø‡¨æ‡¨π‡¨æ‡¨ï‡≠Å ‡¨®‡≠á‡¨á ‡¨¨‡≠ç‡≠ü‡¨æ‡¨™‡¨ï ‡¨∏‡¨π‡¨Æ‡¨§‡¨ø ‡¨∞‡¨π‡¨ø‡¨õ‡¨ø‡•§ ‡¨≤‡¨æ‡¨≠ ‡¨∏‡¨Æ‡≠ç‡¨¨‡¨®‡≠ç‡¨ß‡¨∞‡≠á ‡¨è‡¨π‡¨ø ‡¨∏‡¨®‡≠ç‡¨¶‡¨∞‡≠ç‡¨≠‡¨ï‡≠Å ‡¨¶‡≠É‡¨∑‡≠ç‡¨ü‡¨ø‡¨∞‡≠á ‡¨∞‡¨ñ‡¨ø ‡¨Æ‡≠Å‡¨Å ‡¨ï‚Äô‡¨£ ‡¨ï‡¨∞‡¨ø‡¨™‡¨æ‡¨∞‡¨ø‡¨¨‡¨ø?')</code></pre>
</div>
</div>
<div id="9d5c8215" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> round_acc(x):</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> {}</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> name, tok <span class="kw">in</span> tokenizers.items():</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>        result[<span class="ss">f"</span><span class="sc">{</span>name<span class="sc">}</span><span class="ss">"</span>] <span class="op">=</span> [</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>            <span class="bu">int</span>(s <span class="op">==</span> tok.decode(tok.encode(s), skip_special_tokens<span class="op">=</span><span class="va">True</span>) )</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> s <span class="kw">in</span> x[<span class="st">'text'</span>]]</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>ds <span class="op">=</span> ds.<span class="bu">map</span>(round_acc, batched<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>ds</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"1e3c2baef8fb4c3c95462ce406ea461e","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<pre><code>Dataset({
    features: ['text', 'krutrim-ai-labs/Krutrim-2-instruct', 'sarvamai/sarvam-1', 'openai/gpt-oss-20b', 'Qwen/Qwen3-8B', 'google/gemma-2-9b', 'google/gemma-3-12b-it', 'meta-llama/Meta-Llama-3-8B-Instruct'],
    num_rows: 1000
})</code></pre>
</div>
</div>
<div id="ffeac505" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>roundtrip_df <span class="op">=</span> plot_metric(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    ds,</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Roundtrip Accuracy on Odia'</span>,</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Accuracy'</span>,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_BenchmarkingTOkenizer4Odia_files/figure-html/cell-29-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>All models achieve <strong>‚â•99.7% roundtrip accuracy</strong> ‚Äî effectively lossless. The few failures (~0.3%) likely involve rare characters or edge cases in the dataset.</p>
</section>
<section id="vibe-check" class="level3">
<h3 class="anchored" data-anchor-id="vibe-check">Vibe check</h3>
<div id="92016c06" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> html</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> color_tokens(text, tokenizer):</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    colors <span class="op">=</span> [</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'#FF6B6B'</span>,  <span class="co"># coral red</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'#4ECDC4'</span>,  <span class="co"># teal</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'#FFE66D'</span>,  <span class="co"># yellow</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'#95E1D3'</span>,  <span class="co"># mint</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'#F38181'</span>,  <span class="co"># salmon</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'#AA96DA'</span>,  <span class="co"># lavender</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'#81C784'</span>,  <span class="co"># green</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'#FFB74D'</span>,  <span class="co"># orange</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'#64B5F6'</span>,  <span class="co"># blue</span></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'#F06292'</span>,  <span class="co"># pink</span></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>    tokens <span class="op">=</span> tokenizer.tokenize(text)</span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>    html_parts <span class="op">=</span> []</span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, tok <span class="kw">in</span> <span class="bu">enumerate</span>(tokens):</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>        color <span class="op">=</span> colors[i <span class="op">%</span> <span class="bu">len</span>(colors)]</span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a>        html_parts.append(<span class="ss">f'&lt;span style="background:</span><span class="sc">{</span>color<span class="sc">}</span><span class="ss">; color:black; padding:2px; margin:1px; border-radius:3px"&gt;</span><span class="sc">{</span>html<span class="sc">.</span>escape(tok)<span class="sc">}</span><span class="ss">&lt;/span&gt;'</span>)</span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="ss">f'&lt;div style="font-size:18px; line-height:2"&gt;</span><span class="sc">{</span><span class="st">""</span><span class="sc">.</span>join(html_parts)<span class="sc">}</span><span class="ss">&lt;/div&gt;'</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="6a64844d" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> HTML</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>text <span class="op">=</span> <span class="st">"‡¨è‡¨π‡¨æ ‡¨∏‡≠Å‡¨®‡¨ø‡¨∂‡≠ç‡¨ö‡¨ø‡¨§ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å"</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>HTML(color_tokens(text, tokenizers[<span class="st">'sarvamai/sarvam-1'</span>]))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div style="font-size:18px; line-height:2"><span style="background:#FF6B6B; color:black; padding:2px; margin:1px; border-radius:3px">‚ñÅ‡¨è‡¨π‡¨æ</span><span style="background:#4ECDC4; color:black; padding:2px; margin:1px; border-radius:3px">‚ñÅ‡¨∏‡≠Å</span><span style="background:#FFE66D; color:black; padding:2px; margin:1px; border-radius:3px">‡¨®‡¨ø</span><span style="background:#95E1D3; color:black; padding:2px; margin:1px; border-radius:3px">‡¨∂‡≠ç‡¨ö‡¨ø‡¨§</span><span style="background:#F38181; color:black; padding:2px; margin:1px; border-radius:3px">‚ñÅ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å</span></div>
</div>
</div>
<div id="0eff55f1" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>HTML(color_tokens(text, tokenizers[<span class="st">'krutrim-ai-labs/Krutrim-2-instruct'</span>]))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div style="font-size:18px; line-height:2"><span style="background:#FF6B6B; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#4ECDC4; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#FFE66D; color:black; padding:2px; margin:1px; border-radius:3px">ƒ±</span><span style="background:#95E1D3; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#F38181; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#AA96DA; color:black; padding:2px; margin:1px; border-radius:3px">¬π</span><span style="background:#81C784; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#FFB74D; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#64B5F6; color:black; padding:2px; margin:1px; border-radius:3px">¬æ</span><span style="background:#F06292; color:black; padding:2px; margin:1px; border-radius:3px">ƒ†</span><span style="background:#FF6B6B; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#4ECDC4; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#FFE66D; color:black; padding:2px; margin:1px; border-radius:3px">¬∏</span><span style="background:#95E1D3; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#F38181; color:black; padding:2px; margin:1px; border-radius:3px">≈É</span><span style="background:#AA96DA; color:black; padding:2px; margin:1px; border-radius:3px">ƒ£</span><span style="background:#81C784; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#FFB74D; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#64B5F6; color:black; padding:2px; margin:1px; border-radius:3px">¬®</span><span style="background:#F06292; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#FF6B6B; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#4ECDC4; color:black; padding:2px; margin:1px; border-radius:3px">¬ø</span><span style="background:#FFE66D; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#95E1D3; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#F38181; color:black; padding:2px; margin:1px; border-radius:3px">¬∂</span><span style="background:#AA96DA; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#81C784; color:black; padding:2px; margin:1px; border-radius:3px">≈É</span><span style="background:#FFB74D; color:black; padding:2px; margin:1px; border-radius:3px">ƒØ</span><span style="background:#64B5F6; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#F06292; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#FF6B6B; color:black; padding:2px; margin:1px; border-radius:3px">ƒº</span><span style="background:#4ECDC4; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#FFE66D; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#95E1D3; color:black; padding:2px; margin:1px; border-radius:3px">¬ø</span><span style="background:#F38181; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#AA96DA; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#81C784; color:black; padding:2px; margin:1px; border-radius:3px">¬§</span><span style="background:#FFB74D; color:black; padding:2px; margin:1px; border-radius:3px">ƒ†</span><span style="background:#64B5F6; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#F06292; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#FF6B6B; color:black; padding:2px; margin:1px; border-radius:3px">ƒ∑</span><span style="background:#4ECDC4; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#FFE66D; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#95E1D3; color:black; padding:2px; margin:1px; border-radius:3px">¬∞</span><span style="background:#F38181; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#AA96DA; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#81C784; color:black; padding:2px; margin:1px; border-radius:3px">¬®</span><span style="background:#FFB74D; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#64B5F6; color:black; padding:2px; margin:1px; border-radius:3px">≈É</span><span style="background:#F06292; color:black; padding:2px; margin:1px; border-radius:3px">ƒØ</span><span style="background:#FF6B6B; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#4ECDC4; color:black; padding:2px; margin:1px; border-radius:3px">¬¨</span><span style="background:#FFE66D; color:black; padding:2px; margin:1px; border-radius:3px">¬§</span><span style="background:#95E1D3; color:black; padding:2px; margin:1px; border-radius:3px">√†</span><span style="background:#F38181; color:black; padding:2px; margin:1px; border-radius:3px">≈É</span><span style="background:#AA96DA; color:black; padding:2px; margin:1px; border-radius:3px">ƒ£</span></div>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p><strong>Summary Table</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 8%">
<col style="width: 16%">
<col style="width: 22%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th>Model</th>
<th style="text-align: center;">Fertility ‚Üì</th>
<th style="text-align: center;">Vocab Coverage ‚Üë</th>
<th style="text-align: center;">Odia Subwords</th>
<th style="text-align: center;">Compression ‚Üë</th>
<th style="text-align: center;">Roundtrip</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>sarvamai/sarvam-1</strong></td>
<td style="text-align: center;"><strong>2.6</strong></td>
<td style="text-align: center;">64%</td>
<td style="text-align: center;"><strong>1956</strong></td>
<td style="text-align: center;"><strong>7.3</strong></td>
<td style="text-align: center;">‚úì</td>
</tr>
<tr class="even">
<td>google/gemma-3-12b-it</td>
<td style="text-align: center;">5.1</td>
<td style="text-align: center;"><strong>76%</strong></td>
<td style="text-align: center;">125</td>
<td style="text-align: center;">3.6</td>
<td style="text-align: center;">‚úì</td>
</tr>
<tr class="odd">
<td>openai/gpt-oss-20b</td>
<td style="text-align: center;">7.0</td>
<td style="text-align: center;">0%</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">2.7</td>
<td style="text-align: center;">‚úì</td>
</tr>
<tr class="even">
<td>google/gemma-2-9b</td>
<td style="text-align: center;">7.0</td>
<td style="text-align: center;">75%</td>
<td style="text-align: center;">69</td>
<td style="text-align: center;">2.7</td>
<td style="text-align: center;">‚úì</td>
</tr>
<tr class="odd">
<td>Qwen/Qwen3-8B</td>
<td style="text-align: center;">13.8</td>
<td style="text-align: center;">0%</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1.4</td>
<td style="text-align: center;">‚úì</td>
</tr>
<tr class="even">
<td>meta-llama/Meta-Llama-3-8B-Instruct</td>
<td style="text-align: center;">17.0</td>
<td style="text-align: center;">0%</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1.1</td>
<td style="text-align: center;">‚úì</td>
</tr>
<tr class="odd">
<td>krutrim-ai-labs/Krutrim-2-instruct</td>
<td style="text-align: center;">18.5</td>
<td style="text-align: center;">0%</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1.0</td>
<td style="text-align: center;">‚úì</td>
</tr>
</tbody>
</table>
<p><strong>Key Findings</strong></p>
<ol type="1">
<li><p><strong>Sarvam-1 is the clear winner</strong> ‚Äî Best fertility (2.6 tokens/word), best compression (7.3 bytes/token), and 1956 learned Odia subwords in vocabulary.</p></li>
<li><p><strong>Gemma 3 is the best multilingual option</strong> ‚Äî Highest single-character coverage (76%) and solid efficiency metrics make it a strong choice if an Indic-specific model isn‚Äôt available.</p></li>
<li><p><strong>Krutrim-2 surprisingly underperforms</strong> ‚Äî Despite being an Indic model, it shows the worst metrics, suggesting it‚Äôs optimized for other Indian languages (likely Hindi) rather than Odia.</p></li>
<li><p><strong>Cost implications</strong> ‚Äî Using LLaMA 3 or Krutrim-2 for Odia costs <strong>7x more</strong> in API tokens compared to Sarvam-1.</p></li>
<li><p><strong>All tokenizers are lossless</strong> ‚Äî Roundtrip accuracy is ~100% for all models tested.</p></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/tripathysagar\.github\.io\/sagaTrip");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/tripathysagar/sagaTrip/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>